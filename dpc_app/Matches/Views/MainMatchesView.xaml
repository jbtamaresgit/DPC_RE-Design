<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:d="http://xamarin.com/schemas/2014/forms/design"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:tabs="clr-namespace:dpc_app.SharedResources.CustomControls.CustomTabbedPage.CustomTabs;assembly=dpc_app.SharedResources"
             xmlns:details="clr-namespace:Matches.Views.TabViews"
             xmlns:mvvm="clr-namespace:Prism.Mvvm;assembly=Prism.Forms"
             mc:Ignorable="d"
             x:Name="MainMatchesContent"
             x:Class="Matches.Views.MainMatchesView">
    <ContentPage.Resources>
        <ResourceDictionary>
            <Style x:Key="TabStyle" TargetType="tabs:UnderlinedTabItem">
                <Setter Property="SelectedTabColor" Value="{StaticResource White}" />
                <Setter Property="FontFamily" Value="{StaticResource FontSemiBold}" />
                <Setter Property="LabelSize" Value="14" />
                <Setter Property="BackgroundColor" Value="{StaticResource Accent}" />
                <Setter Property="UnselectedLabelColor" Value="White" />
            </Style>
        </ResourceDictionary>
    </ContentPage.Resources>

    <Grid Padding="{StaticResource StandardThickness}"  
      ColumnSpacing="0"
      RowSpacing="0">
        <Grid.RowDefinitions>
            <RowDefinition Height="200" />
            <RowDefinition Height="40" />
            <RowDefinition Height="30" />
            <RowDefinition Height="30" />
            <RowDefinition Height="50" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- first 4 rows then... -->

        <tabs:TabStateView x:Name="TabState"
                      Grid.Row="4"
                      Margin="-16,0"
                      BackgroundColor="White"
                      SelectedIndex="{Binding Source={x:Reference Switcher}, 
                                              Path=SelectedIndex, 
                                              Mode=TwoWay}">
            <tabs:TabStateView.Tabs>
                <tabs:DefaultTabItem Style="{StaticResource TabStyle}" 
                                 LabelContent="Test1" />
                <tabs:DefaultTabItem Style="{StaticResource TabStyle}" 
                                 LabelContent="Test2" />
            </tabs:TabStateView.Tabs>
    
        </tabs:TabStateView>

        <ScrollView Grid.Row="5">
            <tabs:TabContentSwitcher x:Name="Switcher"
                                     Animate="True"
                                     SelectedIndex="{Binding SelectedViewModelIndex, 
                                                     Mode=TwoWay}">
                <details:LiveMatchesView mvvm:ViewModelLocator.AutowirePartialView="{x:Reference MainMatchesContent}" />
            </tabs:TabContentSwitcher>
        </ScrollView>
    </Grid>
</ContentPage>